(this.webpackJsonpvreme=this.webpackJsonpvreme||[]).push([[0],{128:function(e,t,a){e.exports=a.p+"static/media/loading.3f259006.gif"},169:function(e,t,a){e.exports=a(355)},174:function(e,t,a){},355:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(15),c=a.n(o),l=(a(174),a(16));function i(e){return r.a.createElement("div",{className:"Navbar"},r.a.createElement("div",null,"WeatherApp"),r.a.createElement("div",{className:"NavbarDreapta"},r.a.createElement("div",null,"Setari"),r.a.createElement("div",null,"Home")))}var m=a(357),s=a(49),u=a(8),d=function(e){var t=e.x,a=e.y,n=(e.width,e.height,e.value);return r.a.createElement("g",null,r.a.createElement("text",{x:t-5,y:a-6,fill:"#fff"},n+"\xb0"))},p=[{temp:55,ora:"8:00"},{temp:22,ora:"12:00"},{temp:32,ora:"18:00"},{temp:22,ora:"00:00"}];function f(e){var t=Object(n.useState)(!1),a=Object(l.a)(t,2),o=a[0],c=a[1];return Object(n.useEffect)((function(){p[0].temp=Math.floor(e.date.morn),p[1].temp=Math.floor(e.date.day),p[2].temp=Math.floor(e.date.eve),p[3].temp=Math.floor(e.date.night),c(!0)}),[]),r.a.createElement("div",{className:"chart"},o?r.a.createElement(u.c,{width:400,height:150,data:p,allowDataOverflow:!0,margin:{top:20}},r.a.createElement(u.b,{type:"monotone",dataKey:"temp",stroke:"#8884d8"},r.a.createElement(u.a,{dataKey:"temp",position:"top",content:d})),r.a.createElement(u.e,Object(s.a)({interval:"preserveStartEnd",dataKey:"ora",padding:{left:20,right:20}},"interval",0))):r.a.createElement("div",null))}var v=function(e){var t=e.x,a=e.y,n=(e.width,e.height,e.value);return r.a.createElement("g",null,r.a.createElement("text",{x:t-5,y:a-6,fill:"#fff"},n+"\xb0"))};function E(e){var t=Object(n.useState)(!0),a=Object(l.a)(t,2),o=a[0],c=a[1];return Object(n.useEffect)((function(){console.log(e.date),c(!0)}),[]),r.a.createElement("div",{className:"chartMare"},o?r.a.createElement(u.d,{width:"95%",height:"90%"},r.a.createElement(u.c,{data:e.date,allowDataOverflow:!0,margin:{top:30}},r.a.createElement(u.b,{type:"monotone",dataKey:"temp",stroke:"#8884d8"},r.a.createElement(u.a,{dataKey:"temp",position:"top",content:v})),r.a.createElement(u.e,Object(s.a)({interval:"preserveStartEnd",dataKey:"ziua",padding:{left:35,right:35}},"interval",0)))):r.a.createElement("div",null,"fwawaawfwaf"))}var g=["Duminic\u0103","Luni","Mar\u021bi","Miercuri","Joi","Vineri","Samb\u0103t\u0103","Duminic\u0103","Luni","Mar\u021bi","Miercuri","Joi","Vineri","Samb\u0103t\u0103"],h=[];function w(e){return Object(n.useEffect)((function(){}),[]),r.a.createElement("div",{className:"Content"},r.a.createElement(m.a,{appear:!0,in:!0,timeout:1e3,classNames:"fade"},r.a.createElement("div",{className:"PrognozaAzi"},function(){if(!e.wait){var t=(new Date).getDay(),n=(new Date).toLocaleTimeString("ro-RO",{hour12:!1,hour:"numeric",minute:"numeric"}),o="http://openweathermap.org/img/wn/"+e.date.current.weather[0].icon+"@2x.png";return r.a.createElement("div",{className:"PrognozaAziContainer"},r.a.createElement("div",{className:"flexcolumn"},r.a.createElement("div",{className:"titluPrognoza"},e.oras.city),r.a.createElement("div",{className:"PrognozaZile"},g[t]+"  ",n),r.a.createElement("div",{className:"PrognozaZile"},e.date.current.weather[0].description),r.a.createElement("div",{className:"flexrow"},r.a.createElement("img",{src:o,alt:"vreme"}),r.a.createElement("div",{className:"PrognozaGrade"},Math.floor(e.date.current.temp),"\xb0"))),r.a.createElement("div",{className:"PrognozaDreapta"},r.a.createElement("div",null,"Umiditate: ",e.date.current.humidity,"%"),r.a.createElement("div",{className:"marginTopp"},"V\xe2nt: ",(3.6*e.date.current.wind_speed).toFixed(1)," km/h"),r.a.createElement(f,{date:e.date.daily[0].temp})))}return r.a.createElement("div",{className:"PrognozaCurentLoading"},r.a.createElement("img",{src:a(128),alt:"vreme"}))}())),r.a.createElement(m.a,{appear:!0,in:!0,timeout:1200,classNames:"fade2"},r.a.createElement("div",{className:"PrognozaTop"},function(){if(!e.wait){console.log("intra aici");var t=(new Date).getDay();return e.date.daily.map((function(e,a){h.length<7&&h.push({temp:Math.floor(e.temp.max),ziua:g[t+a]});var n="http://openweathermap.org/img/wn/"+e.weather[0].icon+"@2x.png";return r.a.createElement("div",{key:a,className:"PrognozaCard"},r.a.createElement("div",null,g[t+a]),r.a.createElement("img",{src:n,alt:"vreme"}),r.a.createElement("div",{className:"PrognozaCardTemperaturi"},r.a.createElement("div",null,Math.floor(e.temp.max),"\xb0"),r.a.createElement("div",null,Math.floor(e.temp.min),"\xb0")))}))}for(var n=[],o=0;o<7;o++)n.push(r.a.createElement("div",{key:o,className:"PrognozaCardLoading"},r.a.createElement("img",{src:a(128),alt:"vreme"})));return n}()))," ",e.wait?r.a.createElement("div",null):r.a.createElement(m.a,{appear:!0,in:!0,timeout:1e3,classNames:"fade"},r.a.createElement(E,{date:h})))}function N(e){return r.a.createElement("div",{className:"Footer"},r.a.createElement("div",null,"Facut de Popa George Catalin"))}var b=function(){var e=Object(n.useState)({}),t=Object(l.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)({}),s=Object(l.a)(c,2),u=s[0],d=s[1],p=Object(n.useState)(!0),f=Object(l.a)(p,2),v=f[0],E=f[1];return Object(n.useEffect)((function(){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){var t=e.coords.longitude,a=e.coords.latitude;console.log(t,a);var n="https://api.bigdatacloud.net/data/reverse-geocode-client?latitude="+a+"&longitude="+t+"&localityLanguage=ro",r="https://api.openweathermap.org/data/2.5/onecall?lat="+a+"&lon="+t+"&appid=e9e74eee0dd11008febcccb305a879fe&units=metric&exclude=hourly,minutely&lang=ro";Promise.all([fetch(n).then((function(e){return e.json()})).then((function(e){console.log(e),d(e)})).catch((function(e){return console.log("error",e)})),fetch(r,{method:"GET",redirect:"follow"}).then((function(e){return e.json()})).then((function(e){console.log(e),e.daily.pop(),o(e)})).catch((function(e){return console.log("error",e)}))]).then((function(){E(!1)}))})):console.log("NU MERGE GEOLOCATIA ")}),[]),r.a.createElement("div",{className:"App"},r.a.createElement(m.a,{appear:!0,in:!0,timeout:500,classNames:"fade3"},r.a.createElement(i,null)),r.a.createElement(w,{date:a,wait:v,oras:u}),r.a.createElement(N,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[169,1,2]]]);
//# sourceMappingURL=main.e71644ce.chunk.js.map